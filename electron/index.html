<m-webview-container>
    <webview id="foo" src="about:blank"></webview>
    <!-- src="https://www.haberturk.com/" -->
</m-webview-container>

<h1 class="indicator">bu</h1>

<div id="oylebirseylerkaraladimiste" style="position: absolute;width:300px;height:300px;background-color:blue;">

</div>


<style>
    html,
    body {
        margin: 0;
        overflow: hidden;
    }

    m-webview-container {
        display: flex;
        width: 100%;
        height: 100%;
        box-sizing: border-box;
        border-radius: 6px;
        overflow: hidden;
    }

    webview {
        display: flex;
        width: 100%;
        height: 100%;
    }
</style>

<script>
    onload = () => {
        const webview = document.querySelector('webview')
        const indicator = document.querySelector('.indicator')

        window.webview = webview;

        const loadstart = () => {
            indicator.innerText = 'loading...'
        }

        const loadstop = () => {
            indicator.innerText = ''
        }

        if (webview) {

            window.webview = webview;

        } else {
            alert("gel me di")
        }


        try {

            // webview.addEventListener('dom-ready', () => {

            //     console.log("devinim")
            //     webview.openDevTools()
            //     setTimeout(() => {

            //         if (window.x)
            //             return

            //         window.x = 1;
            //         console.log("devinim 2")

            //         // webview.loadURL("https://www.google.com/")
            //     }, 2_000);
            // })


            // webview.addEventListener('dom-ready', () => {

            //     console.log('dom ready mi ?')
            //     try {
            //         webview.loadURL("https://www.google.com/")
            //     } catch (error) {
            //         alert("innner vvieiww me di" + error)
            //     }
            // })
            //webview.addEventListener('did-start-loading', loadstart)
            // webview.addEventListener('did-stop-loading', loadstop)
        } catch (error) {
            alert("vvieiww me di" + error)

        }



    }
</script>


<script>
</script>


<script async type="module" src="../build/overlay/main.js"></script>